<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suphelendim.org</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="img/favicon/question-circle-fill.svg" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">

</head>

<body>

    <header>
        <nav class="navbar navbar-expand-lg   bg-transparent  text-white">
            <div class="container">

                <a href="#home" class="navbar-brand "> Suphelen<span>.org</span></a>

                <div class="burger">
                    <button class="navbar-toggler " data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <i class="bi bi-list"></i>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto ">
                            <li class="nav-item">
                                <a href="#home" class="nav-link pe-3">Anasayfa</a>
                            </li>
                            <li class="nav-item pe-3">
                                <a href="#sorgulat" class="nav-link">Sorgulat</a>
                            </li>
                            <li class="nav-item pe-3">
                                <a href="#gundem" class="nav-link">GÃ¼ndem</a>
                            </li>
                            <li class="nav-item pe-3">
                                <a href="#hakkimizda" class="nav-link">HakkÄ±mÄ±zda</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="reklam " id="home">
            <div class="container">
                <div class="png">
                    <div class="text">
                        <p>Her paylaÅŸÄ±m doÄŸru deÄŸildir. ÅÃ¼phe et, kontrol et.</p>
                    </div>
                    <img src="img/reklammpng.png" alt="ÅÃ¼phe ve kontrolÃ¼ simgeleyen gÃ¶rsel">
                </div>

                <div class="bilgi-box">
                    <div class="text">
                        <h3>Biz Kimiz ve Neden BuradayÄ±z?</h3>
                        <p>
                            Suphelendim.org, dijital Ã§aÄŸÄ±n en bÃ¼yÃ¼k sorunlarÄ±ndan biri olan dezenformasyonla
                            mÃ¼cadele amacÄ±yla kurulmuÅŸ baÄŸÄ±msÄ±z bir platformdur.
                            AmacÄ±mÄ±z, internet ve sosyal medya Ã¼zerinden yayÄ±lan yanlÄ±ÅŸ, manipÃ¼latif veya kasÄ±tlÄ±
                            olarak Ã§arpÄ±tÄ±lmÄ±ÅŸ bilgileri fark etmenizi saÄŸlamak,
                            doÄŸru bilgiye ulaÅŸma bilincini gÃ¼Ã§lendirmektir.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section class="arama-section" id="sorgulat">
            <div class="container">
                <h1>DoÄŸruluÄŸunu Sorgulamak <span>iÃ§in:</span></h1>
                <div class="button-group">
                    <input type="text" placeholder="Bir Haber Linki Giriniz..." id="haberLinkInput">
                    <button id="sorgulaButton" onclick="dogrulamaYap()">Ara</button>
                </div>

                <div id="sonucAlani" style="text-align: left;">

                </div>
            </div>
        </section>

        <section class="gundem-section" id="gundem">
            <div class="container">
                <h1>GÃ¼ndem/PopÃ¼ler <span>Haberler</span></h1>
                <div class="boxs" id="gundemContainer">

                </div>
            </div>
        </section>

        <section class="bilgi-section" id="hakkimizda">
            <div class="container">
                <div class="bilgi-boxs">
                    <h1>Hakk<span>Ä±mÄ±zda</span></h1>
                    <div class="bilgi-box">
                        <div class="text">
                            <h3>Prensiplerimiz</h3>
                            <p><strong>TarafsÄ±zlÄ±k:</strong> Her tÃ¼rlÃ¼ bilgi doÄŸrulama sÃ¼recinde hiÃ§bir kiÅŸi, kurum veya
                                gÃ¶rÃ¼ÅŸe baÄŸlÄ± kalmadan hareket ederiz.</p>
                            <p><strong>ÅeffaflÄ±k:</strong> Bilgi kaynaklarÄ±mÄ±zÄ± aÃ§Ä±kÃ§a belirtir, doÄŸrulama sÃ¼reÃ§lerimizi
                                kullanÄ±cÄ±larÄ±mÄ±zla paylaÅŸÄ±rÄ±z.</p>
                            <p><strong>EÄŸitim ve FarkÄ±ndalÄ±k:</strong> Sadece yanlÄ±ÅŸ bilgileri ortaya Ã§Ä±karmakla kalmaz,
                                kullanÄ±cÄ±larÄ±n bu tÃ¼r iÃ§erikleri kendi baÅŸÄ±na tespit edebilmesini amaÃ§larÄ±z.</p>
                            <p><strong>GÃ¼venilirlik:</strong> Bilgiye dayalÄ±, kanÄ±tlarla desteklenmiÅŸ sonuÃ§lar sunarÄ±z.
                            </p>
                            <p><strong>Toplumsal Sorumluluk:</strong> GerÃ§eklerin deÄŸerini korumayÄ±, dijital etik
                                bilincini yaygÄ±nlaÅŸtÄ±rmayÄ± gÃ¶rev biliriz.</p>
                        </div>
                    </div>
                    <div class="bilgi-box">
                        <div class="text">
                            <h3>Dezenformasyon Nedir?</h3>
                            <p>Dezenformasyon, bilerek ve kasÄ±tlÄ± olarak yanlÄ±ÅŸ veya yanÄ±ltÄ±cÄ± bilgi yayÄ±lmasÄ± anlamÄ±na
                                gelir. AmaÃ§, kamuoyunu manipÃ¼le etmek, yanlÄ±ÅŸ yÃ¶nlendirmek veya toplumsal algÄ±yÄ±
                                etkilemektir. Dezenformasyon, Ã¶zellikle sosyal medya platformlarÄ±nda hÄ±zla yayÄ±lÄ±r ve
                                kÄ±sa sÃ¼rede ciddi bilgi kirliliÄŸine yol aÃ§ar.</p>
                        </div>
                    </div>
                    <div class="bilgi-box">
                        <div class="text">
                            <h3>AmaÃ§larÄ±mÄ±z</h3>
                            <ul>
                                <li>Ä°nsanlarÄ±n gÃ¼venilir bilgiye ulaÅŸma becerilerini geliÅŸtirmek</li>
                                <li>YanlÄ±ÅŸ bilgilere karÅŸÄ± dijital direnÃ§ oluÅŸturmak</li>
                                <li>Medya okuryazarlÄ±ÄŸÄ±nÄ± ve eleÅŸtirel dÃ¼ÅŸÃ¼nmeyi teÅŸvik etmek</li>
                                <li>GerÃ§ekleri, doÄŸrulanabilir verilerle kamuoyuna sunmak</li>
                                <li>Toplumda â€œÅŸÃ¼phe et, kontrol et, doÄŸrulaâ€ kÃ¼ltÃ¼rÃ¼nÃ¼ yaymak</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bilgi-box">
                        <div class="text">
                            <h3>Suphelen.org'tan Bir Ã–ÄŸÃ¼t</h3>
                            <p>Her paylaÅŸÄ±m doÄŸru deÄŸildir. Suphelendim.org olarak biz, bilgi kirliliÄŸinin en bÃ¼yÃ¼k
                                panzehrinin bilinÃ§li kullanÄ±cÄ±lar olduÄŸuna inanÄ±yoruz.</p>
                            <p><strong>UnutmayÄ±n:</strong> â€œGÃ¶rdÃ¼ÄŸÃ¼nÃ¼z her ÅŸeye inanmayÄ±n â€” doÄŸrulayÄ±n.â€</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-logo">
                <a href="#home">Suphelendim<span>.org</span></a>
                <p>GerÃ§eÄŸi arayanlar iÃ§in doÄŸru bilginin adresi.</p>
            </div>
            <div class="footer-links">
                <a href="#home">Ana Sayfa</a>
                <a href="#sorgulat">Sorgulat</a>
                <a href="#gundem">GÃ¼ndem</a>
                <a href="#hakkimizda">HakkÄ±mÄ±zda</a>
            </div>
            <div class="footer-socials">
                <a href="#" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
                <a href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                <a href="https://github.com/karadag07/Dezenformasyon_Ile_Mucadele" target="_blank"
                    aria-label="GitHub"><i class="bi bi-github"></i></a>
                <a href="#" aria-label="E-posta"><i class="bi bi-envelope"></i></a>
            </div>
            <p class="copy">Â© 2025 Suphelendim.org | TÃ¼m HaklarÄ± SaklÄ±dÄ±r.</p>
        </div>
    </footer>

    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // --- DOÄRULAMA FONKSÄ°YONLARI ---

        // HÃ¼kÃ¼m kelimesini (DOÄRULANDI, YANLIÅ, HENÃœZ DOÄRULANAMADI) metinden Ã§eker
        function getHukum(text) {
            // GÃ¼venilirlik hÃ¼kmÃ¼nÃ¼ daha esnek bulmak iÃ§in regex gÃ¼ncellendi
            const match = text.match(/#### âœ… GÃ¼venilirlik HÃ¼kmÃ¼\s*\n?\s*\*\*(.*?)\*\*/i);
            // BÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarsÄ±z yapÄ±ldÄ± ve olasÄ± satÄ±r baÅŸÄ±nÄ± yakalamak eklendi
            if (match && match[1]) {
                return match[1].trim().toUpperCase(); // Her zaman bÃ¼yÃ¼k harf dÃ¶ndÃ¼r
            }
            return "BELÄ°RSÄ°Z"; // Bulamazsa belirsiz dÃ¶ndÃ¼r
        }

        // SonuÃ§larÄ± ekrana basan fonksiyon (Markdown'Ä± HTML'e Ã§evirir)
        function renderSonuc(hukum, tamMetin) {
            const sonucAlani = document.getElementById('sonucAlani');
            sonucAlani.classList.remove('active'); // Ã–nce kapat (animasyon iÃ§in)

            // KÄ±sa bir gecikme ekleyerek animasyonun dÃ¼zgÃ¼n Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸla
            setTimeout(() => {
                let className;
                let baslik;

                // HÃ¼kme gÃ¶re stil sÄ±nÄ±fÄ± ve baÅŸlÄ±k belirle
                if (hukum.includes("DOÄRULANDI")) {
                    className = 'dogru';
                    baslik = 'âœ… BU HABER DOÄRU GÃ–RÃœNÃœYOR';
                } else if (hukum.includes("YANLIÅ")) {
                    className = 'yanlis';
                    baslik = 'âŒ BU HABER YANLIÅ VEYA HATALI';
                } else { // HENÃœZ DOÄRULANAMADI veya BELÄ°RSÄ°Z
                    className = 'belirsiz';
                    baslik = 'âš ï¸ DOÄRULUK TEYÄ°T EDÄ°LEMEDÄ°';
                }

                // Backend'den gelen Markdown benzeri metni HTML'e Ã§evir
                const htmlMetin = tamMetin
                    .replace(/### (.*?)\n/g, '<h3>$1</h3>')        // ### BaÅŸlÄ±k -> <h3>BaÅŸlÄ±k</h3>
                    .replace(/#### (.*?)\n/g, '<h4>$1</h4>')      // #### BaÅŸlÄ±k -> <h4>BaÅŸlÄ±k</h4>
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // **KalÄ±n** -> <strong>KalÄ±n</strong>
                    .replace(/\n/g, '<br>');                       // SatÄ±r sonlarÄ±nÄ± <br> ile deÄŸiÅŸtir

                // SonuÃ§ kutusunun iÃ§eriÄŸini oluÅŸtur
                sonucAlani.innerHTML = `
                  <div class="sonuc-kutu ${className}">
                    <h2>${baslik}</h2>
                    <hr>
                    <div>${htmlMetin}</div> 
                  </div>
                `;

                // SonuÃ§ kutusunu yavaÅŸÃ§a gÃ¶rÃ¼nÃ¼r yap (animasyon)
                requestAnimationFrame(() => { // TarayÄ±cÄ±nÄ±n Ã§izime hazÄ±r olmasÄ±nÄ± bekle
                    sonucAlani.classList.add('active');
                });
            }, 50); // Ã‡ok kÄ±sa bir gecikme (50ms) animasyon iÃ§in yeterli
        }


        // Ana doÄŸrulama fonksiyonu: Butona basÄ±ldÄ±ÄŸÄ±nda Ã§alÄ±ÅŸÄ±r
        async function dogrulamaYap() {
            const sonucAlani = document.getElementById('sonucAlani');
            const buton = document.getElementById('sorgulaButton');
            const linkInput = document.getElementById('haberLinkInput'); // Input elementini al
            const link = linkInput.value.trim(); // DeÄŸeri al ve boÅŸluklarÄ± temizle

            const apiURL = 'http://127.0.0.1:5000/api/dogrula'; // Backend API adresi

            // Linkin geÃ§erli olup olmadÄ±ÄŸÄ±nÄ± kontrol et
            if (!link) {
                renderSonuc('BELÄ°RSÄ°Z', '### âš ï¸ UyarÄ±\nLÃ¼tfen geÃ§erli bir haber linki girin.');
                // KullanÄ±cÄ±ya hemen gÃ¶stermek iÃ§in 'active' sÄ±nÄ±fÄ±nÄ± ekle
                requestAnimationFrame(() => {
                    sonucAlani.classList.add('active');
                });
                linkInput.focus(); // KullanÄ±cÄ±nÄ±n tekrar yazmasÄ± iÃ§in input'a odaklan
                return; // Fonksiyondan Ã§Ä±k
            }

            // Arama butonunu devre dÄ±ÅŸÄ± bÄ±rak ve yÃ¼kleniyor animasyonu gÃ¶ster
            buton.disabled = true;
            buton.innerHTML = `<span class="spinner"></span> Kontrol ediliyor...`;

            // Ã–nceki sonuÃ§larÄ± gizle ve yeni 'yÃ¼kleniyor' mesajÄ±nÄ± gÃ¶ster
            sonucAlani.classList.remove('active');
            // GeÃ§ici 'yÃ¼kleniyor' kutusu
            sonucAlani.innerHTML = `
                <div class="sonuc-kutu belirsiz">
                     <h2>ğŸ” Haber kontrol ediliyor...</h2>
                     <hr>
                     <p>LÃ¼tfen bekleyin. Bu iÅŸlem genellikle 5-15 saniye sÃ¼rebilir.</p>
                </div>
            `;
            // YÃ¼kleniyor kutusunu gÃ¶ster
            requestAnimationFrame(() => {
                sonucAlani.classList.add('active');
            });


            try {
                // Backend'e POST isteÄŸi gÃ¶nder
                const response = await fetch(apiURL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ link: link }) // Linki JSON formatÄ±nda gÃ¶nder
                });

                // Sunucudan gelen yanÄ±tÄ± JSON olarak al
                const veri = await response.json();

                // YanÄ±t baÅŸarÄ±lÄ±ysa ve backend 'basari: true' dÃ¶ndÃ¼rdÃ¼yse
                if (response.ok && veri.basari) {
                    const hukum = getHukum(veri.ozet_ve_dogrulama); // HÃ¼kmÃ¼ Ã§Ä±kar
                    renderSonuc(hukum, veri.ozet_ve_dogrulama); // Sonucu ekrana bas
                } else {
                    // Sunucudan hata mesajÄ± geldiyse
                    renderSonuc('BELÄ°RSÄ°Z', `### âŒ Hata OluÅŸtu\n**Sunucu HatasÄ±:** ${veri.hata || 'Bilinmeyen bir sunucu hatasÄ± oluÅŸtu.'}`);
                }
            } catch (hata) {
                // AÄŸ hatasÄ± veya fetch sÄ±rasÄ±nda baÅŸka bir hata oluÅŸtuysa
                renderSonuc('BELÄ°RSÄ°Z', `### âŒ BaÄŸlantÄ± HatasÄ±\nSunucuya ulaÅŸÄ±lamÄ±yor. LÃ¼tfen **Python sunucunuzun (app.py)** Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan ve internet baÄŸlantÄ±nÄ±zÄ±n olduÄŸundan emin olun.`);
                console.error("Fetch HatasÄ±:", hata); // Teknik detaylarÄ± konsola yazdÄ±r
            } finally {
                // Ä°stek tamamlandÄ±ÄŸÄ±nda veya hata oluÅŸtuÄŸunda butonu tekrar aktif et
                buton.disabled = false;
                buton.innerHTML = 'Ara';
            }
        }


        // --- GÃœNDEM HABERLERÄ° FONKSÄ°YONU ---

        // Bu fonksiyon, sayfa yÃ¼klendiÄŸinde gÃ¼ndem haberlerini backend'den Ã§eker ve ekrana basar.
        async function gundemHaberleriniYukle() {
            const gundemContainer = document.getElementById('gundemContainer');
            const apiURL = 'http://127.0.0.1:5000/api/gundem'; // GÃ¼ndem API adresi

            // BaÅŸlangÄ±Ã§ta yÃ¼kleniyor mesajÄ± gÃ¶ster
            gundemContainer.innerHTML = '<p style="color: #ccc;">GÃ¼ndem haberleri yÃ¼kleniyor...</p>';

            try {
                // Backend'den haberleri GET isteÄŸi ile al
                const response = await fetch(apiURL);
                if (!response.ok) { // Ä°stek baÅŸarÄ±sÄ±zsa hata fÄ±rlat
                    throw new Error(`Sunucu hatasÄ±: ${response.status}`);
                }

                // Gelen yanÄ±tÄ± JSON olarak iÅŸle
                const haberler = await response.json();

                // Haber konteynerÄ±nÄ± temizle
                gundemContainer.innerHTML = '';

                // EÄŸer haber yoksa bilgi mesajÄ± gÃ¶ster
                if (!haberler || haberler.length === 0) {
                    gundemContainer.innerHTML = '<p style="color: #ccc;">GÃ¶sterilecek gÃ¼ncel haber bulunamadÄ±.</p>';
                    return; // Fonksiyondan Ã§Ä±k
                }

                // Her bir haber iÃ§in HTML oluÅŸtur ve konteynÄ±ra ekle
                haberler.forEach(haber => {
                    // Tarihi daha okunabilir formata Ã§evir
                    let yayimTarihi = 'Bilinmiyor';
                    try {
                        // Gelen tarih formatÄ±nÄ± parse etmeye Ã§alÄ±ÅŸ (RFC 822 veya benzeri)
                        yayimTarihi = new Date(haber.yayim_tarihi).toLocaleString('tr-TR', {
                            year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit'
                        });
                    } catch (e) {
                        console.error("Tarih formatÄ± hatasÄ±:", haber.yayim_tarihi, e);
                        // EÄŸer parse edilemezse, ham veriyi gÃ¶ster veya 'Bilinmiyor' kalsÄ±n
                        yayimTarihi = haber.yayim_tarihi || 'Bilinmiyor';
                    }


                    const haberHtml = `
                        <div class="box">
                            <a href="${haber.link}" target="_blank" rel="noopener noreferrer" class="haber-link">
                                <h3>${haber.baslik}</h3>
                                <p class="kaynak">Kaynak: BBC NEWS</p>
                                <p class="tarih">YayÄ±m: ${yayimTarihi}</p>
                            </a>
                        </div>
                    `;
                    gundemContainer.insertAdjacentHTML('beforeend', haberHtml); // innerHTML+= yerine daha performanslÄ±
                });

            } catch (hata) {
                console.error('GÃ¼ndem haberleri yÃ¼klenirken hata oluÅŸtu:', hata);
                // Hata durumunda kullanÄ±cÄ±ya bilgi ver
                gundemContainer.innerHTML = `<p style="color: red; text-align: center;">Haberler yÃ¼klenemedi. Sunucu baÄŸlantÄ±sÄ±nÄ± kontrol edin.</p>`;
            }
        }

        // --- SAYFA YÃœKLENDÄ°ÄÄ°NDE Ã‡ALIÅACAK KOD ---

        // Sayfa tamamen yÃ¼klendiÄŸinde (DOMContentLoaded) gÃ¼ndem haberlerini yÃ¼kle
        document.addEventListener('DOMContentLoaded', gundemHaberleriniYukle);

    </script>
</body>

</html>